#include <bits/stdc++.h>
using namespace std;
using ll =long long;
const int N = 1e5+9;


int main(){

    int l;
    cin>>l;
    while(l){
    	
    	int arr[l+1];
    	for(int i = 1;i<=l;i++){
    		cin>>arr[i];
    	}
    	bool c = false;
    	for(int i = 1;i<=l;i++){
    		if(arr[arr[i]] != i){cout<<"not ambiguous\n"; c = true; break;}
    	}
    	
    	if(!c){cout<<"ambiguous\n";}
    	cin>>l;
    }
    
}
